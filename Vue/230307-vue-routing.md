# ë¼ìš°íŒ…(Routing): SPAêµ¬ì¶•í•˜ê¸°

- urlê³¼ ëŒ€í™”í•˜ëŠ”(interact) ìƒíƒœì—¬ì•¼ ìœ„ì¹˜í•œ í˜ì´ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” URLì„ ë‹¤ë¥¸ ì‚¬ìš©ìì™€ ê³µìœ í•  ìˆ˜ ìˆë‹¤.
- `ë¼ìš°íŒ…ì´ë€` ë¸Œë¼ìš°ì €ì—ì„œ JSë¡œ URLì˜ ë³€ê²½ ì‚¬í•­ì„ ê´€ë¦¬í•˜ê³  ë™ì¼í•œ ì‹±ê¸€ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì— URLì´ ë³€ê²½ë˜ê±°ë‚˜ í•´ë‹¹ URLì„ ê¸°ë°˜ìœ¼ë¡œ í™”ë©´ì— ë¡œë“œí•˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤.
- `vue-router`íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ìš°íŒ… ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤.

## createRouter

- main.jsì—ì„œ ë¼ìš°íŠ¸ë¥¼ ìƒì„±í•œë‹¤.
- êµ¬ì„± ê°ì²´ì— ë‘ê°€ì§€ ì˜µì…˜ì„ ì¶”ê°€í•œë‹¤.
- routerìƒìˆ˜ë¥¼ `useë©”ì„œë“œ`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë“±ë¡í•œë‹¤.
- `useë©”ì„œë“œ`: ë‚´ì¥ ë©”ì„œë“œë¡œ Vueì•±ì— ì„œë“œíŒŒí‹° íŒ¨í‚¤ì§€ì™€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ ì—°ê²°í•´ì£¼ëŠ” ì—­í• ì´ë‹¤.

### routes ì˜µì…˜

- `routes`: ì§€ì›í•˜ê³ ì í•˜ëŠ” ì—¬ëŸ¬ URLì„ ë“±ë¡í•œë‹¤.
- ì–´ë–¤ URLì— ëŒ€í•´ ì–´ë–¤ Vue ì»´í¬ë„ŒíŠ¸ê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ë¥¼ ì•Œë¦°ë‹¤.
- `í•˜ë‚˜ì˜ ë¼ìš°íŠ¸ ê°ì²´ ìš”ì†Œë¥¼ ê°€ì§€ëŠ” ë°°ì—´`ì„ í• ë‹¹í•œë‹¤.
- ê°ì²´ì˜ ì˜µì…˜ìœ¼ë¡œ `path`, `component`ì„ ì‚¬ìš©í•˜ë©° URLì—ì„œ ë„ë©”ì¸ì˜ ë’·ë¶€ë¶„ì— í•´ë‹¹(path), ì–´ë–¤ ë¼ìš°í„°ê°€ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¡œë“œ(component)í•´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ì—­í• ì´ë‹¤.

### history ì˜µì…˜

- `history`: ë¼ìš°í„°ì—ê²Œ ë³¸ ì•±ì˜ ë¼ìš°íŒ… íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ë°©ë²•ì„ ì•Œë ¤ì¤€ë‹¤. `í•´ë‹¹ í˜ì´ì§€ê°€ ë¸Œë¼ìš°ì§• íˆìŠ¤í† ë¦¬ì— ë“±ë¡ë˜ë„ë¡ í•˜ëŠ” ë°©ì‹ì„ ì„¤ì •í•œë‹¤.`
- `createWebHistory()`: ì‚¬ìš©ìê°€ ì–´ë””ë¡œë¶€í„° ì™”ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ ë“±ì„ ì•Œë ¤ì£¼ëŠ” ê²ƒì„ ë¸Œë¼ìš°ì € ë‚´ì¥ ë©”ì»¤ë‹ˆì¦˜ì´ í–ˆì—ˆëŠ”ë° ì´ ê¸°ëŠ¥ì„ ë¼ìš°í„°ì—ê²Œ ì§€ì›í•˜ê¸° ìœ„í•´ ì§€ì •í•˜ëŠ” ê²ƒì´ë‹¤.

## `<router-view>` ì»´í¬ë„ŒíŠ¸

- ë¼ìš°íŠ¸ì— ì •ì˜í•œ ì»´í¬ë„ŒíŠ¸ê°€ ì–´ë””ì— ë Œë”ë§ ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì¤˜ì•¼í•œë‹¤.
- ì»´í¬ë„ŒíŠ¸ê°€ ì¶œë ¤ë  ìœ„ì¹˜ì— `<router-view></router-view>` ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í•œë‹¤.
- ì´ì œ urlë¡œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ì¶œë ¥ë  ìˆ˜ ìˆë‹¤.

ğŸ‘¾ì˜ˆì œ  
â— main.js

```js
import { createRouter, createWebHistory } from "vue-router";
import TeamsList from "./components/teams/TeamsList.vue";
import UsersList from "./components/users/UsersList.vue";

import App from "./App.vue";

const router = createRouter({
  history: createWebHistory(),
  routes: [
    {
      path: "/teams",
      component: TeamsList,
    },
    {
      path: "/users",
      component: UsersList,
    },
  ],
});
const app = createApp(App);

app.use(router);

app.mount("#app");
```

â— App.vue

```vue
<template>
  <the-navigation @set-page="setActivePage"></the-navigation>
  <main>
    <!-- <component :is="activePage"></component> -->
    <router-view></router-view>
  </main>
</template>
```

## `<router-link>` ì»´í¬ë„ŒíŠ¸

- ë¸Œë¼ìš°ì € ê¸°ë³¸ê°’ìœ¼ë¡œ ë‹¤ë¥¸ í˜ì´ì§€ê°€ ë¡œë“œë˜ëŠ” ê²ƒ(ìì²´ì ìœ¼ë¡œ ë‹¤ë¥¸ HTMLíŒŒì¼ì„ ë¡œë“œí•˜ëŠ” ê²ƒ)ì„ ë§‰ê³  Vueë¼ìš°í„°ë¥¼ í†µí•´ `ì‚¬ìš©ìê°€ í´ë¦­í•œ ë§í¬ë¥¼ ë¶„ì„í•˜ì—¬ ì•Œë§ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¡œë“œí•˜ë©° URLì„ ì—…ë°ì´íŠ¸`í•˜ëŠ” ì•µì»¤ íƒœê·¸ì´ë‹¤.
- ë‚´ë¶€ì ìœ¼ë¡œ slotì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— í…ìŠ¤íŠ¸ë‚˜ ë‹¤ë¥¸ ìš”ì†Œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
- `to="ê²½ë¡œ"`ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ í´ë¦­ì‹œ ì´ë™í•  ê²½ë¡œë¥¼ ì„¤ì •í•œë‹¤.

### í™œì„± ë§í¬ ìŠ¤íƒ€ì¼ë§í•˜ê¸° - router-link-active, router-link-exact-active

- `router-link-active`ëŠ” íŠ¹ìˆ˜ CSS ìŠ¤íƒ€ì¼ë¡œ í™œì„±í™”ëœ ì•µì»¤ íƒœê·¸ì— ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤. ì´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤íƒ€ì¼ë§ì„ í•  ìˆ˜ ìˆë‹¤.
- `router-link-exact-active`ëŠ” ì¤‘ì²© ë¼ìš°íŒ…ì´ ìˆì„ ë•Œ `í˜„ì¬ ê²½ë¡œì™€ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í•˜ëŠ” ë‚´ë¹„ê²Œì´ì…˜ í•­ëª©ì—ë§Œ ì ìš©ëœë‹¤.`

```css
a:hover,
a:active,
a.router-link-active {
  color: #f1a80a;
  border-color: #f1a80a;
  background-color: #1a037e;
}
```

- í´ë˜ìŠ¤ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ë„ ìˆëŠ”ë° crateRouter êµ¬ì„± ê°ì²´ì— `linkActiveClass: ë³€ê²½í•  í´ë˜ìŠ¤ëª…`, `linkExactActiveClass: ë³€ê²½í•  í´ë˜ìŠ¤ëª…`ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.

## ë²„íŠ¼ìœ¼ë¡œ í˜ì´ì§€ ì´ë™í•˜ê¸°(ë¼ìš°íŒ…)

- ì»´í¬ë„ŒíŠ¸ ë‚´ì¥ê°ì²´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `this.$router.push()`ë¥¼ ì‚¬ìš©í•œë‹¤. ë¼ìš°íŒ… íˆìŠ¤í† ë¦¬ì— ìƒˆ ë¼ìš°íŠ¸ë¥¼ í‘¸ì‹œí•˜ëŠ” ê²ƒì´ë‹¤(ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ëŠ” ë¼ìš°íŒ… ë©”ëª¨ë¦¬ì— ìƒˆ ë¼ìš°íŠ¸ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒ) -`this.$router.back()`, `this.$router.forward()`ë¡œ ë’¤ë¡œê°€ê¸° ë° ì•ìœ¼ë¡œ ê°€ê¸°ê°€ ëœë‹¤.

## ë™ì  ë¼ìš°íŠ¸ ë§¤ê°œë³€ìˆ˜ ì‚¬ìš©í•˜ê¸° - $route

- createRouterì˜ êµ¬ì„±ê°ì²´ì˜ routesì—ì„œ pathë¥¼ `test/:id`í˜•ì‹ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.
- created: ì»´í¬ë„ŒíŠ¸ ìƒì„± ì‹œ ëª¨ë“  ë°ì´í„°ê°€ ì‚¬ìš© ê°€ëŠ¥ ìƒíƒœì´ë©° í™”ë©´ì— í‘œì‹œ ë˜ê¸°ì „ì— í˜¸ì¶œëœë‹¤. ê·¸ëŸ¬ë©´ createdë¥¼ í†µí•´ ì£¼ì…ëœ ë°ì´í„° ë¿ë§Œ ì•„ë‹ˆë¼ ë¼ìš°íŒ… ë°ì´í„°ë„ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë‹¤.
- `$route`ë¡œ `params, path`ë“± ì‚¬ìš©í•˜ì—¬ pathê´€ë ¨ ë°ì´í„°ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.
- ë²„íŠ¼ì— ë™ì  ë¼ìš°íŠ¸ ë§¤ê°œë³€ìˆ˜ê°’ìœ¼ë¡œ ì´ë™í•˜ë ¤ë©´ toì— ë°”ì¸ë”©í•œ ìƒíƒœë¡œ pathì„¤ì •ì„ í•˜ë©´ ëœë‹¤.

```vue
<template>
  <li>
    ...
    <!-- <router-link :to="'/teams/' + id">View Members</router-link> -->
    <router-link :to="teamMembersLink">View Members</router-link>
  </li>
</template>
<script>
export default {
  props: ['id', 'name'],
  computed(){
    teamMembersLink() {
      return '/teams/' + this.id;
    }
  }
}
</script>
```

```vue
...
<script>
...
created() {
    const teamId = this.$route.params.teamId; // $route ì‚¬ìš©í•˜ì—¬ ë¼ìš°íŠ¸ ë§¤ê°œë³€ìˆ˜ ê°’ ê°€ì ¸ì˜¤ê¸°
    ...
  },
</script>
```

## ê°ì‹œì(watcher)ë¡œ ë§¤ê°œë³€ìˆ˜ ë°ì´í„° ì—…ë°ì´íŠ¸í•˜ê¸° - watch: {}

- ë™ì  ë§¤ê°œë³€ìˆ˜ë¡œ ë¡œë“œëœ í˜ì´ì§€ì—ì„œ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ê°ˆ ë•Œ, ì¦‰ ë§¤ê°œë³€ìˆ˜ì˜ ë‹¤ë¥¸ ê°’ì„ ê°€ì§„ í˜ì´ì§€ë¡œ ê°„ë‹¤ë©´(ì‚¬ì‹¤ìƒ ê°™ì€ í˜ì´ì§€ë¡œ ì´ë™) ë¬¸ì œê°€ ìƒê¸´ë‹¤.
- â­ï¸ ì˜ˆë¥¼ ë“¤ì–´ì„œ team/t1 í˜ì´ì§€ì—ì„œ team/t2 í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë²„íŠ¼ì„ í´ë¦­ í–ˆì„ ë•Œ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.(urlì€ ë°”ë€Œì§€ë§Œ ë°ì´í„°ê°€ ë°”ë€Œì§€ ì•ŠìŒ!!) => ì™œëƒí•˜ë©´ ìºì‹œ ë•Œë¬¸ì¸ë° urlì´ ë°”ë€Œì—ˆë‹¤ê³  created()ê°€ ë‹¤ì‹œ í˜¸ì¶œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.
- watchê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ $routeê°€ ë³€í•˜ëŠ”ê±¸ ê°ì‹œí•œë‹¤!!

```js
export default {
  methods: {
    loadTeamMembers(route) {
      const teamId = route.params.teamId;
      ...
    },
  },
  created() {
    this.loadTeamMembers(this.$route);
  },
  watch: { // ë¼ìš°íŠ¸ì— ìƒê¸°ëŠ” ë³€í™”ë¥¼ ê°ì‹œ ì¤‘~!
    $route(newRoute) { // ìµœì‹  $routeê°’ì´ ì¸ìˆ˜ë¡œ ë“¤ì–´ì˜´!!
      this.loadTeamMembers(newRoute);
    },
  },
}
```

## ë§¤ê°œë³€ìˆ˜ë¥¼ í”„ë¡œí¼í‹°ë¡œ ì „ë‹¬í•˜ê¸°

- props: trueë¡œ í•˜ì—¬ propsë¡œ ë§¤ê°œë³€ìˆ˜ ê°’ì„ ë°›ëŠ”ê±¸ í—ˆë½í•œë‹¤.
- â­ï¸ ë§¤ê°œë³€ìˆ˜ ê°’ì´ í”„ë¡œí¼í‹°ë¡œì„œ ì „ë‹¬ëœë‹¤!! (ex. :teamId)

```js
{
  path: '/teams/:teamId',
  component: TeamMembers,
  props: true,
},
```

## ë¦¬ë””ë ‰ì…˜ ë° CatchAll ë¼ìš°íŠ¸

- redirectionì€ redirect, aliasí”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•œë‹¤.

```js
routes: [
    // '/'ì´ '/home'ë¡œ ë³€ê²½ëœë‹¤.(url ë³€ê²½ë¨!!)
    { path: '/', redirect: '/home' },
    // '/'ì´ì—¬ë„ TeamsListí™”ë©´ìœ¼ë¡œ ì¶œë ¥ëœë‹¤.(urlë³€ê²½ì€ ë˜ì§€ ì•ŠìŒ!)
    { path: '/teams', component: TeamsList, alias: '/'},
    ...
  ],
```

- ì§€ì •í•˜ì§€ ì•ŠëŠ” ê²½ë¡œë¡œ ì ‘ì†í•˜ëŠ” ê²½ìš° `path: '/:notFound(.*)'`ì„ ì¶”ê°€í•œë‹¤. ğŸ”¥ ë§ˆì§€ë§‰ì— ì‘ì„±í•´ì•¼ ë‹¤ë¥¸ ë¼ìš°íŠ¸ë¥¼ ë®ì–´ì“°ì§€ ì•ŠëŠ”ë‹¤!!

```js
routes: [
    // '/'ì´ '/home'ë¡œ ë³€ê²½ëœë‹¤.(url ë³€ê²½ë¨!!)
    { path: '/', redirect: '/home' },
    // '/'ì´ì—¬ë„ TeamsListí™”ë©´ìœ¼ë¡œ ì¶œë ¥ëœë‹¤.(urlë³€ê²½ì€ ë˜ì§€ ì•ŠìŒ!)
    { path: '/teams', component: TeamsList, alias: '/'},
    { path: '/:notFound(.*)', redirect: '/home'},
    ...
  ],
```

## ì¤‘ì²©ë¼ìš°íŠ¸ ì‚¬ìš©í•˜ê¸°

- ì¤‘ì²© ë¼ìš°íŠ¸ êµ¬ì„±ì€, ë‚´ë¶€ì—ì„œ ë¼ìš°íŠ¸ë¥¼ ì¤‘ì²©í•˜ë ¤ëŠ” ë¼ìš°íŠ¸ë¡œ ì´ë™í•˜ì—¬ `childrenì˜µì…˜`ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì¤‘ì²© ë¼ìš°íŠ¸ë¥¼ ì„¤ì •í•˜ë©´ ëœë‹¤.
- App.vueì— ì¶”ê°€í•œ `<router-view>`ëŠ” ì˜¤ì§ ë£¨íŠ¸ ë¼ìš°íŠ¸ë§Œ ë‹¤ë£¨ê¸° ë•Œë¬¸ì— ìì‹ ë¼ìš°íŠ¸ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ì„œëŠ” ë¶€ëª¨ì»´í¬ë„ŒíŠ¸ì— ë‘ë²ˆì§¸ `<router-view>`ë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤.

```js
routes: [
  {
    path: '/teams',
    component: TeamsList,
    children: [
      {
        // /teams/t1
        path: ':teamId', // â­ï¸ /(ìŠ¬ë˜ì‹œ) ì œê±°!!
        component: TeamMembers,
        props: true,
      },
    ],
  },
],
```

## ê¸°ëª… ë¼ìš°íŠ¸(Named Route)

- `<router-link :to=""></router-link>`ì—ì„œ toì— í• ë‹¹í•˜ëŠ” ê²½ë¡œ ê°’ì„ `ê°ì²´`ë¡œ ìì„¸í•œ ì„¤ì •ì„ í•  ìˆ˜ ìˆë‹¤.
- nameì„ ì‚¬ìš©í•˜í•˜ë©´ ê°€ë…ì„±ê³¼ pathë¥¼ ì†ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.(ìˆ˜ì •í•˜ëŠ” ìˆ˜ê³ ë¡œì›€ì´ ì—†ë‹¤)
- this.$router.push()ì—ì„œë„ ê°ì²´ë¡œ ì „ë‹¬í•˜ì—¬ nameí”„ë¡œí¼í‹°ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
- `params`ì™€ `query`ë„ ê°ì²´ì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. => this.$route.queryë¡œ ì ‘ê·¼í•œë‹¤.

```js
routes: [
    { path: '/', redirect: '/teams' },
    {
      name: 'teams',
      path: '/teams',
      component: TeamsList,
      children: [
        {
          name: 'team-members',
          // /teams/t1
          path: ':teamId',
          component: TeamMembers,
          props: true,
        },
      ],
    },
  ],
```

```js
<template>
  <li>
    <router-link :to="teamMembersLink">View Members</router-link>
  </li>
</template>

<script>
export default {
  props: ['id', 'name', 'memberCount'],
  computed: {
    teamMembersLink() {
      // return '/teams/' + this.id;
      return { name: 'team-members', params: { teamId: this.id }, query: {sort: 'asc'} };
      // this.$router.push({ name: 'team-members', params: { teamId: this.id } })
    },
  },
};
</script>
```

## ê¸°ëª… `<route-view>`

- ê°™ì€ ë ˆë²¨ì— ì—¬ëŸ¬ route-viewë¥¼ ìƒì„±í•  ë•Œ nameì— ë”°ë¼ ì¶œë ¥í•  ì»´í¬ë„ŒíŠ¸ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

ğŸ‘¾ ì˜ˆì œ

- ìœ ì—°í•œ footerë§Œë“¤ê¸°, teamsì™€ usersì— ë”°ë¥¸ í‘¸í„° ì¶œë ¥

â— App.vue

```vue
<template>
  <the-navigation></the-navigation>
  <main>
    // default
    <router-view></router-view>
  </main>
  <footer>
    // ì´ë¦„ ì„¤ì •!!
    <router-view name="footer"></router-view>
  </footer>
</template>
```

â— main.js

```js
routes: [
    { path: '/', redirect: '/teams' },
    {
      name: 'teams',
      path: '/teams',
      // footerì´ë¦„ì„ ê°€ì§„ router-viewì— ì¶œë ¥í•  ì»´í¬ë„ŒíŠ¸(TeamsFooter) ì„¤ì •
      components: { default: TeamsList, footer: TeamsFooter },
      children: [
        {
          name: 'team-members',
          // /teams/t1
          path: ':teamId',
          component: TeamMembers,
          props: true,
        },
      ],
    },
    {
      path: '/users',
      // footerì´ë¦„ì„ ê°€ì§„ router-viewì— ì¶œë ¥í•  ì»´í¬ë„ŒíŠ¸(UsersFooter) ì„¤ì •
      components: { default: UsersList, footer: UsersFooter },
    },
  ],
```

## ìŠ¤í¬ë¡¤ ë™ì‘ ì œì–´í•˜ê¸°

- ë‹¤ë¥¸ ë¼ìš°íŠ¸ë¡œ ì´ë™í•˜ë©´ ìë™ìœ¼ë¡œ ìŠ¤í¬ë¡¤ì´ ì˜¬ë¼ê°€ê²Œ í•  ìˆ˜ ìˆë‹¤.
- createRouterê°ì²´ì˜ í”„ë¡œí¼í‹°ë¡œ `scrollBehaviorë©”ì„œë“œ` ì¶”ê°€
- `scrollBehaviorë©”ì„œë“œ`ëŠ” í˜ì´ì§€ê°€ ë°”ë€” ë•Œë§ˆë‹¤ Vueë¼ìš°í„°ë¡œ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œì´ë‹¤.
- ì¸ìˆ˜ë¡œ 3ê°œ(to, from, savedPosition)ë¥¼ ê°€ì§„ë‹¤.
- `to`ì™€ `from`ì€ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ `this.$route`ë¡œ ì–»ëŠ” ê°’ì´ë‹¤. ê°ê° ì´ë™í•  í˜ì´ì§€ì™€ ì´ë™í•˜ê¸° ì „ì˜ í˜ì´ì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
- `savedPosition`ì€ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ì‚¬ìš©í•  ë•Œë§Œ í•´ë‹¹ ê°’ì´ ìƒê¸°ê³  ì—†ìœ¼ë©´ nullì´ë‹¤. `ì´ë™í•˜ê¸° ì „ì˜ í˜ì´ì§€ì—ì„œ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ ì–´ë””ì˜€ëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” leftì™€ topí”„ë¡œí¼í‹°ê°€ ë“¤ì–´ìˆë‹¤.`(ex. {left: 0, top: 187})
- `scrollBehaviorë©”ì„œë“œ`ëŠ” í˜ì´ì§€ê°€ ë°”ë€Œì—ˆì„ ë•Œ ì´ë™í•  ë¸Œë¼ìš°ì €ì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.(ex. return {left: 0, top: 0} === í˜ì´ì§€ì˜ ìµœìƒë‹¨ì„ ì˜ë¯¸)
- ì „ í˜ì´ì§€ì˜ ìŠ¤í¬ë¡¤ìœ„ì¹˜ë¥¼ ìœ ì§€í•˜ê³  í˜ì´ì§€ ì´ë™ì„ í•˜ë ¤ë©´ `savedPosition`ê°’ì„ ì´ìš©í•˜ë©´ ëœë‹¤.

```js
const router = createRouter({
  history: createWebHistory(),
  routes: [...],
  // linkActiveClass: 'active',
  scrollBehavior(to, from, savedPosition) {
    console.log(to, from);
    if (savedPosition) return savedPosition; // ì›ë˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¡œ ì´ë™
    else return { left: 0, top: 0 }; // ìµœìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ì´ë™
  },
});
```

## ë‚´ë¹„ê²Œì´ì…˜ ê°€ë“œ ì‚¬ìš©í•˜ê¸°

- ì¸ì¦ê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš©í•œë‹¤.
- ì¸ì¦í•˜ì§€ ì•Šì€ ì‚¬ìš©ìê°€ íŠ¹ì • ë¼ìš°íŠ¸ì— ì—‘ì„¸ìŠ¤í•  ìˆ˜ ì—†ë„ë¡ ë°©ì§€í•œë‹¤.
- ì¼ë¶€ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê³  ì‹¶ì„ë•Œ í˜ì´ì§€ ë³€í™”ë¥¼ ê°ì§€í•˜ê¸°ì—ë„ ìœ ìš©í•˜ë‹¤(ì‚¬ìš©ìê°€ ì–‘ì‹ì„ ìˆ˜ì •í•œ ê±¸ ì €ì¥í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì‹¤ìˆ˜ë¡œ í˜ì´ì§€ë¥¼ ë‚˜ê°€ì§€ ì•Šë„ë¡ ë°©ì§€í•˜ëŠ”ë°ì— ì‚¬ìš©í•œë‹¤.)

### beforeEach()

- `beforeEach()`ë©”ì„œë“œëŠ” ë‚´ì¥ ë©”ì„œë“œë¡œ í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œì„œ ì·¨ê¸‰í•œë‹¤.
- `vueë¼ìš°í„°ëŠ” í•œí˜ì´ì§€ì—ì„œ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™í•  ë•Œë§ˆë‹¤ ì´ í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.`
- ì½œë°±í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ `to`(ì´ë™í•  í˜ì´ì§€ì˜ ë¼ìš°íŠ¸ê°ì²´), `from`(ì´ë™í•˜ê¸° ì „í˜ì´ì§€ì˜ ë¼ìš°íŠ¸ê°ì²´), `next`(ë‚´ë¹„ê²Œì´ì…˜ ë™ì‘ì„ ìŠ¹ì¸í•˜ê±°ë‚˜ ì·¨ì†Œí•˜ê¸° ìœ„í•´ í˜¸ì¶œí•´ì•¼í•˜ëŠ” í•¨ìˆ˜)ë¥¼ ê°€ì§„ë‹¤.
- next()ë¥¼ í˜¸ì¶œí•˜ë©´ í˜ì´ì§€ ì´ë™ì„ ìŠ¹ì¸í•œë‹¤. next(false) => í˜ì´ì§€ ì´ë™ì„ ì·¨ì†Œí•œë‹¤. ê¸°ë³¸ê°’ì´ next(true)ì´ë‹¤.

ğŸ‘¾ ì „ì—­ì—ì„œ ì„¤ì •í•œ beforeEach() - í•­ìƒ teams/t2í˜ì´ì§€ë¡œ ì´ë™ëœë‹¤.

```js
router.beforeEach((to, from, next) => {
  console.log("Global beforeEach");
  console.log(to, from);
  if (to.name === "team-members") {
    next();
  } else {
    next({ name: "team-members", params: { teamId: "t2" } });
  }
});
```

### beforeEnter()

- ë¼ìš°íŠ¸ ê°ê°ì— ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë‚´ë¹„ê²Œì´ì…˜ ê°€ë“œì´ë‹¤.

ğŸ‘¾ ì˜ˆì œ - main.js

```js
routes: [
    {
      path: '/users',
      components: { default: UsersList, footer: UsersFooter },
      beforeEnter(to, from, next) {
        // /usersë¡œ ì´ë™í•  ë•Œë§ˆë‹¤ beforeEnter()ê°€ ì‹¤í–‰ëœë‹¤.
        console.log('users beforeEnter');
        console.log(to, from);
        next(); // /usersë¼ìš°íŠ¸ë¡œì˜ ì´ë™ì„ ìŠ¹ì¸í•˜ëŠ” ê¸°ëŠ¥ì„ í•œë‹¤.
      },
    },
  ],
```

### beforeRouteEnter()

- ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ë‚´ë¹„ê²Œì´ì…˜ ê°€ë“œë¥¼ í•  ìˆ˜ ìˆë‹¤.
- beforeRouteEnter()ë©”ì„œë“œê°€ ë¨¼ì € í˜¸ì¶œ ëœ í›„ ì´ ì»´í¬ë„ŒíŠ¸ë¡œì˜ ì´ë™ì´ ìŠ¹ì¸ëœë‹¤.

ğŸ‘¾ ì˜ˆì œ - usersList.vue

```vue
<script>
import UserItem from "./UserItem.vue";

export default {
  components: {
    UserItem,
  },
  inject: ["users"],
  beforeRouteEnter(to, from, next) {
    console.log("users component boforeRouteEnter");
    console.log(to, from);
    next();
  },
};
</script>
```

### beforeRouteUpdate()

- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. => ì¬ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

### afterEach()

- routerì— ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ì „ì—­ê°€ë“œ ë©”ì„œë“œ
- ì¸ìˆ˜ë¡œ ì½œë°±í•œìˆ˜ê°€ ë“¤ì–´ì˜¤ê³  ì½œë°±í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ to,fromì´ ë“¤ì–´ì˜¨ë‹¤.
- afterEach()ë©”ì„œë“œëŠ” í•œë²ˆ ì‹¤í–‰ë˜ë©´ ì´ë™ì´ ìŠ¹ì¸ë˜ê¸° ë•Œë¬¸ì— nextí•¨ìˆ˜ëŠ” í•„ìš”ë¡œ í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë™ì„ ê±°ë¶€í•˜ë„ë¡ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.
- â­ï¸ ì„œë²„ì— ë¶„ì„ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ë°ì— ìœ ìš©í•˜ë‹¤. ì´ë™ì•¡ì…˜ì´ë‚˜ ì‚¬ìš©ìì˜ í˜ì´ì§€ë³€ê²½ì„ ë¡œê·¸ë¡œ ë‚¨ê¸°ëŠ” ë“± ì‚¬ìš©í•œë‹¤.

### ğŸ”¥ beforeRouteLeave() ê°€ë“œ

- ì»´í¬ë„ŒíŠ¸ êµ¬ì„±ê°ì²´ì— ì‚¬ìš©í•œë‹¤.
- í˜ì´ì§€ë¥¼ ë– ë‚˜ë ¤í•  ë•Œ í˜¸ì¶œë˜ëŠ” ê°€ë“œë©”ì„œë“œ
- ì–‘ì‹ì— ë°ì´í„°ë¥¼ ì…ë ¥í•˜ê³  ì €ì¥í•˜ì§€ ì•Šì€ ìƒíƒœë¡œ ì‹¤ìˆ˜ë¡œ í˜ì´ì§€ë¥¼ ì „í™˜í•˜ëŠ” ì‹¤ìˆ˜ë¥¼ ë°©ì§€ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

```js
export default {
  beforeRouteLeave(to, from, next) {
    console.log("ë‚˜ê°€ê¸° ì§ì „ì˜ ìƒíƒœì…ë‹ˆë‹¤.");
    console.log(to, from);
    if (this.changesSaved) next();
    else {
      const userWantsToLeave = confirm("ì •ë§ ë‚˜ê°€ì‹œê² ìŠµë‹ˆê¹Œ?");
      next(userWantsToLeave);
    }
  },
};
```

## ë¼ìš°íŠ¸ ë©”íƒ€ ë°ì´í„° í™œìš©í•˜ê¸°

- ë©”íƒ€ì—ëŠ” ê°ì²´ë‚˜ ë‹¤ì–‘í•œ ê°’ì„ ê°–ì„ ìˆ˜ ìˆë‹¤.
- ë©”íƒ€ë°ì´í„°ê°€ ìœ ìš©í•œ ì´ìœ ëŠ” ë¼ìš°íŠ¸ ê°ì²´ë‚˜ $routeê°ì²´ê°€ ìˆëŠ” ê³³ ëª¨ë‘ì—ì„œ ë©”íƒ€í•„ë“œì— ì—‘ì„¸ìŠ¤í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ë‚´ë¹„ê²Œì´ì…˜ ê°€ë“œë¥¼ í• ë•Œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ë©”íƒ€ í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•´ì„œ ì´ ë¼ìš°íŠ¸ì— ì¸ì¦ì´ í•„ìš”í•˜ë‹¤ê³  í‘œì‹œí•  ìˆ˜ ë„ìˆë‹¤.
