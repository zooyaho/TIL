
📚 Next.js app 폴더 내 파일 구조 정리

Next.js의 app 폴더에는 페이지, 레이아웃, API 경로 등을 설정하는 파일들이 위치합니다. 각 파일의 역할과 기능을 명확히 이해하는 것이 중요하며, 특히 app 폴더를 사용하는 새로운 라우팅 방식은 파일별로 독특한 기능을 제공합니다.

1. page.js

	•	설명: 신규 페이지를 생성할 때 사용하는 파일입니다. page.js 파일은 React Server Component로 작성되며, 클라이언트에서 자바스크립트가 실행되지 않습니다. 콘솔을 통해 그 차이를 확인할 수 있습니다.
	•	특징: 자바스크립트가 서버 측에서 실행되기 때문에 브라우저 콘솔에서 자바스크립트가 실행되지 않습니다.

2. layout.js

	•	설명: 해당 디렉토리 내 모든 페이지(page.js)를 감싸는 공통 레이아웃을 정의하는 파일입니다. 각 디렉토리마다 layout.js 파일을 생성하여 사용할 수 있습니다.
	•	특징: children 프롭으로 현재 활성화된 page.js 파일의 내용을 감쌉니다. 모든 페이지에 공통 스타일을 적용하려면 import './globals.css'를 통해 글로벌 스타일을 가져올 수 있습니다.

3. icon.*

	•	설명: 웹사이트의 favicon을 정의하는 파일입니다. 보통 icon.png, icon.svg 등의 형식으로 파일을 추가합니다.

4. not-found.js

	•	설명: 404 오류가 발생할 때 표시되는 폴백 페이지입니다. 사용자가 존재하지 않는 경로에 접근했을 때 404 Not Found 페이지를 렌더링합니다.

5. error.js

	•	설명: 기타 오류에 대응하는 폴백 페이지로, 특정 경로나 페이지에서 발생한 오류를 표시하는 커스텀 에러 페이지입니다. 클라이언트 측에서 발생하는 오류를 포함한 모든 컴포넌트 오류를 처리할 수 있어야 하므로, 클라이언트 컴포넌트로 작성해야 합니다.

6. loading.js

	•	설명: 페이지가 데이터를 가져오는 동안 로딩 상태를 표시하는 페이지입니다. 페이지 간 이동이나 네트워크 요청 대기 상태일 때, 로딩 스피너 또는 메시지를 통해 사용자에게 대기 중임을 알리는 역할을 합니다.

7. route.js

	•	설명: API 엔드포인트를 정의하는 파일입니다. JSX를 반환하는 대신, JSON 또는 XML 같은 데이터를 반환할 수 있습니다. 데이터를 처리하는 API 경로를 생성하는 데 사용됩니다.

8. 컴포넌트 폴더 컨벤션 공식 문서 링크

	•	Next.js 공식 문서 링크: 컴포넌트 폴더 컨벤션


📖 error.js와 not-found.js 파일 우선순위

	•	notFound() 함수: 404 페이지를 렌더링할 때 사용됩니다. 하지만, 특정 경로에서 에러가 발생하면 Next.js는 우선적으로 error.js 파일을 렌더링하려고 시도합니다.
	•	우선순위: 404 오류가 발생한 경로에 error.js 파일만 있을 경우, notFound()를 호출해도 error.js가 먼저 렌더링됩니다.

 